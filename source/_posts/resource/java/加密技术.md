---
title: 加密技术浅认识
abbrlink: 4324432334
date: 2019-12-7 10:43:39
tags: 
 - 加密
 - hash
category: java
---


## 简单hash加密

哈希算法又称摘要算法，是一个多对一的映射，很多典型的例子如MD5，SHA-1

数据库中不能直接存密码的明文，否则一旦数据库被攻破，就可以登陆所有用户的账号，方法是存储用户口令的哈希，例如，MD5。在用户输入原始口令后，系统计算用户输入的原始口令的MD5并与数据库存储的MD5对比，如果一致，说明口令正确，否则，口令错误。

## 加盐哈希存储

简单的哈希加密并不能有效抵御上一种情况，虽然穷举很低效，但是如果做到一张对应表，那就可以直接算出来明文，为此，可以对明文密码加上一串随机数据，再进行hash算法，这样用表的方式也推不到原始的明文，然鹅，要验证输出的哈希，必须同时提供“认证码”。但是使用随机生成的盐也是有一定的弊端，较大的弊端就是，这个盐也必须存储，所以也是有机会获取的盐需要每个用户唯一，这样可以很大程度上防止查表，因为盐不同，即使知道盐是什么也无法生成数量如此庞大的表。可以使用128位的uuid来作为用户的盐，这样可以保证唯一性也可以保证盐的长度。
但是我个人更建议盐可以使用某种非公开的算法根据用户信息生成，而不是直接存储在数据表中的信息，即盐也需要保密。事实上盐最好也不公开，最简单的办法就是分为两部分，一部分为入参数据使用用户信息，这些存储于数据库，另外一部分使用生成算法，这些固化在代码中，不会随数据库沦陷而泄露。
